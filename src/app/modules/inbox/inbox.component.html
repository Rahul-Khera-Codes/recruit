<md-sidenav-container fxFlex>
<div flexlayout>
    <app-inbox-side-nav *ngIf="tags" [tags]="tags" (getEmails)="emaillists($event)"></app-inbox-side-nav>
    <div class="content" fxFlex>
    <div class="m-b">
    <form autoComplete="off" #searchForm="ngForm" (ngSubmit)="searchEmail(searchForm)">
    <div class="example-button-row" *ngIf="emaillist && emaillist.count > 0">

        <div *ngIf="emailIds.length > 0" class="{{!selectedTag ? 'options-main': 'options-sub'}}">
            <span *ngFor="let tag of tags.Default | slice:0:3">
                <a md-raised-button class="b-r" *ngIf="tag.id != selectedTag" (click)="assign(tag.id)">
                {{tag.title}}
                </a>
            </span>
            <span>
                  <a md-raised-button class="b-r" (click)="delete()">Delete</a>
            </span>
        </div>
        <md-card class="card-pos" *ngIf="emailIds.length == 0">
            <md-select name="type" placeholder="Select Type" ngModel>
            <md-option value="email">Search Email</md-option>
            <md-option value="subject">Search Subject</md-option>
        </md-select>
        <md-input-container class="mar-pos wid-300">
            <input mdInput name="search-text" placeholder="Search" value="" ngModel>
        </md-input-container>
        <a type="submit" md-raised-button (click)="searchEmail(searchForm)"> Search </a>
        <md-checkbox name="currentTag" class="mar-pos" ngModel> Search current tag </md-checkbox>
        </md-card>

        <a md-mini-fab class="d-w" (click)="previous()">
            <md-icon>keyboard_arrow_left</md-icon>
        </a>
        <a md-raised-button class="b-r" >Page {{data.page}} / {{Math.ceil(emaillist.count/data.limit)}}</a>
        <a md-mini-fab class="d-w" (click)="next()">
            <md-icon>keyboard_arrow_right</md-icon>
        </a>
    </div>
    </form>
</div>          
        <md-spinner *ngIf="loading" class="posload"></md-spinner>
        <div *ngIf="!loading && emaillist">
            <app-emailbox *ngFor="let emails of emaillist.data" (openEmail)="openEmails($event)" (refresh)="refresh($event)" [tagselected]="selectedTag" [email]="emails" (selectEmail)="addEmail($event)" (removeEmail)="removeEmails($event)" [tags]="tags.Automatic"></app-emailbox>
        </div>
    </div>
</div>    
</md-sidenav-container>
