<div class="nav" *ngIf="isHome">
  <img src="./../../../assets/logo.png" alt="Excellence Technologies" />
  <p routerLink="/login" mdTooltip="Login"><i class="material-icons">power_settings_new</i></p>
</div>
<div class="dashboard" *ngIf="dashboardData">
  <md-card>
    <md-card-title>Jobs Application</md-card-title>
    <md-select placeholder="" class="job-selection" [(ngModel)]="jobSelection">
      <md-option value="byDay">
        Day Wise
      </md-option>
      <md-option value="byMonth">
        Month Wise
      </md-option>
    </md-select>
    <md-card-content *ngIf="jobSelection == 'byDay'" >
      <div class="charts">
        <canvas baseChart [datasets]="dashboardData.day_wise" [labels]="dashboardData.day_wise[0]['dates']" [options]="dashboardChartOptions"
          [legend]="lineChartLegend" [chartType]="'line'" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
      </div>
    </md-card-content>
    <md-card-content *ngIf="jobSelection == 'byMonth'">
      <div class="charts">
        <canvas baseChart [datasets]="dashboardData.month_wise" [labels]="dashboardData.month_wise[0]['months']" [options]="dashboardChartOptions"
          [legend]="lineChartLegend" [chartType]="'line'" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
      </div>
    </md-card-content>
  </md-card>
  <md-card>
    <md-card-title>Jobs Application - Round Distribution</md-card-title>
    <md-card-content>
      <div class="pie-chart" *ngFor="let round of dashboardData.rounds; let i = index;">
        <p><b>{{round.label}}</b></p>
        <div>
          <canvas baseChart width="200" height="200" [data]="round.data" [labels]="round.rounds" [options]="pieChartOption" [legend]="lineChartLegend"
            [chartType]="'pie'" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </md-card-content>
  </md-card>
  <md-card>
    <md-card-title>Jobs Application Read - Day Wise</md-card-title>
    <md-card-content>
      <div class="charts">
          <canvas baseChart width="200" height="200" [datasets]="dashboardData.read_email_data" [labels]="dashboardData.read_email_data[0]['dates']" [options]="dashboardChartOptions" [legend]="lineChartLegend"
            [chartType]="'line'" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
      </div>
    </md-card-content>
  </md-card>

  <md-card>
    <md-card-title>Automatic Email (per day)</md-card-title>
    <md-card-content>
      <div class="charts">
        <canvas baseChart [datasets]="dashboardData.email_stat" [labels]="dashboardData.email_stat[0]['dates']" [options]="dashboardChartOptions"
          [legend]="lineChartLegend" [chartType]="'bar'" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
      </div>
    </md-card-content>
  </md-card>
</div>
